#include <stdio.h>
#include <stdlib.h>

int main() {
    int N;
    
    // Ввод размера массива
    printf("Введите размер массива N: ");
    scanf("%d", &N);
    
    // Проверка корректности размера
    if (N <= 0) {
        printf("Ошибка: размер массива должен быть положительным\n");
        return 1;
    }
    
    // Выделение памяти для массива
    int *arr = (int*)malloc(N * sizeof(int));
    if (arr == NULL) {
        printf("Ошибка выделения памяти\n");
        return 1;
    }
    
    // Ввод элементов массива
    printf("Введите %d элементов массива:\n", N);
    for (int i = 0; i < N; i++) {
        printf("Элемент %d: ", i);
        scanf("%d", &arr[i]);
    }
    
    // Поиск первого локального минимума
    int found = 0; // Флаг, найден ли локальный минимум
    int index = -1; // Индекс первого локального минимума
    
    // Проверка первого элемента (если он существует)
    if (N >= 1) {
        // Если массив состоит из одного элемента
        if (N == 1) {
            printf("Массив состоит из одного элемента. Это локальный минимум.\n");
            index = 0;
            found = 1;
        }
        // Проверка первого элемента как локального минимума
        else if (arr[0] < arr[1]) {
            index = 0;
            found = 1;
        }
    }
    
    // Поиск в середине массива (если еще не найден)
    if (!found) {
        for (int i = 1; i < N - 1; i++) {
            if (arr[i] < arr[i-1] && arr[i] < arr[i+1]) {
                index = i;
                found = 1;
                break;
            }
        }
    }
    
    // Проверка последнего элемента (если еще не найден)
    if (!found && N >= 2) {
        if (arr[N-1] < arr[N-2]) {
            index = N-1;
            found = 1;
        }
    }
    
    // Вывод результатов
    printf("\nРезультаты:\n");
    if (found) {
        printf("Первый локальный минимум найден на позиции %d (индексация с 0)\n", index);
        printf("Значение элемента: %d\n", arr[index]);
        
        // Вывод информации о соседях
        if (N == 1) {
            printf("Элемент единственный в массиве\n");
        } else if (index == 0) {
            printf("Левого соседа нет, правый сосед: %d\n", arr[1]);
        } else if (index == N-1) {
            printf("Правого соседа нет, левый сосед: %d\n", arr[N-2]);
        } else {
            printf("Левый сосед: %d, правый сосед: %d\n", arr[index-1], arr[index+1]);
        }
    } else {
        printf("Локальные минимумы в массиве не найдены\n");
    }
    
    // Вывод массива для наглядности
    printf("\nВесь массив:\n");
    for (int i = 0; i < N; i++) {
        printf("%d ", arr[i]);
        if (i == index && found) {
            printf("<- локальный минимум");
        }
        printf("\n");
    }
    
    // Освобождение памяти
    free(arr);
    
    return 0;
}
